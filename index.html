<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blooket Hacks PSD</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #333;
        }
        p {
            line-height: 1.6;
        }
        details {
            margin: 20px 0;
            background-color: #eaeaea;
            border-radius: 8px;
            padding: 10px;
        }
        summary {
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
        }
        .file-list {
            list-style-type: none;
            padding: 0;
            margin: 10px 0;
        }
        .file-list li {
            background: white;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }
        .file-list li button {
            background-color: #007BFF;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 3px;
        }
        .file-list li button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Blooket Hacks PSD Repository</h1>
    <p>This page dynamically lists JavaScript files from directories hosted on the <a href="https://github.com/tf7software/blooket-hacks-psd" target="_blank">GitHub Pages</a>. Click on a directory to view and copy scripts.</p>
    
    <h2>Available JS Files</h2>
    <div id="directories"></div>
</div>

<script>
    const directories = [
        'Quizziz',
        'blook-rush',
        'cafe',
        'crazy-kingdom',
        'crypto-hack',
        'deceptive-dinos',
        'fishing-frenzy',
        'global',
        'gold',
        'racing',
        'tower-defense',
        'tower-of-doom'
    ];

    const repo = 'tf7software/blooket-hacks-psd'; // Replace with your repo
    const baseUrl = `https://api.github.com/repos/${repo}/contents/`;

    async function fetchFiles(dir) {
        const response = await fetch(`${baseUrl}${dir}`);
        const data = await response.json();
        return data.filter(file => file.name.endsWith('.js'));
    }

    function createFileList(files) {
        const ul = document.createElement('ul');
        ul.classList.add('file-list');
        files.forEach(file => {
            const li = document.createElement('li');
            const span = document.createElement('span');
            span.textContent = file.name;

            const button = document.createElement('button');
            button.textContent = 'Copy';
            button.addEventListener('click', () => copyFileContent(file.download_url));

            li.appendChild(span);
            li.appendChild(button);
            ul.appendChild(li);
        });
        return ul;
    }

    async function copyFileContent(url) {
        const response = await fetch(url);
        const content = await response.text();
        const tempTextArea = document.createElement('textarea');
        tempTextArea.value = content;
        document.body.appendChild(tempTextArea);
        tempTextArea.select();
        document.execCommand('copy');
        document.body.removeChild(tempTextArea);
        alert('Script copied to clipboard!');
    }

    async function loadDirectories() {
        const container = document.getElementById('directories');
        for (const dir of directories) {
            const details = document.createElement('details');
            const summary = document.createElement('summary');
            summary.textContent = dir;
            details.appendChild(summary);

            const files = await fetchFiles(dir);
            if (files.length > 0) {
                const fileList = createFileList(files);
                details.appendChild(fileList);
            } else {
                const emptyMsg = document.createElement('p');
                emptyMsg.textContent = 'No JavaScript files found.';
                details.appendChild(emptyMsg);
            }

            container.appendChild(details);
        }
    }

    loadDirectories();
</script>

</body>
</html>
